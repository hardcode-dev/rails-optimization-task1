continue
report
report['usersStats'][user_key] ||= {}
user_key = "#{user['first_name']} #{user['last_name']}"
report
stats
user
continue
report
report['usersStats'][user_key] = report['usersStats'][user_key].merge(stats)
report
report['usersStats'][user_key] ||= {}
report
user_key = "#{user['first_name']} #{user['last_name']}"
stats
sessions.select('pluck')
sessions.pluck('time')
time_sessions = sessions.map { |s| s['time'] }.map(&:to_i)
sessions.count
sessions
continue
report
collect_stats_for_user(report, u, sessions[u['id']])
report
collect_stats_for_user(report, u, sessions[u['id']])
u = users.first
users
pp sessions["0"]
sessions["0"]
sessions
continue
sessions["0"]
sessions
line
continue
line
continue
sessions
line
continue
line
sessions
continue
sessions
current_user
continue
current_user
user
sessions["0"]
sessions
line
continue
line
continue
sessions
line
continue
line
continue
line
continue
line
continue
line
